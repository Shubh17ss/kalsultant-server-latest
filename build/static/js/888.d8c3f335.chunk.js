"use strict";(self.webpackChunkkalsultant=self.webpackChunkkalsultant||[]).push([[888],{25:function(e,s,n){n.r(s),n.d(s,{default:function(){return R}});var t=n(2791),a=n(9439),i=n(6856),r=n(4373),l=n(9126),c=n(6355),o=n(3853),d=n(3524),h=n(7692),u=n(1243),x=n(8820),m=n(184),j=function(e){console.log(e);var s=function(){(0,e.data[1])(-1)},n=function(e){"Escape"==e.key&&s()};(0,t.useEffect)((function(){window.addEventListener("keydown",n,!1)}),[]);var a=function(n){var t={JWT:e.data[2],id:e.data[0].id,status:n};u.Z.put("/api/session/updateSessionStatus",t,{headers:{"Content-Type":"application/json"}}).then((function(e){s()})).catch((function(e){alert(e)}))};return(0,m.jsxs)("div",{className:"changeStatusView",children:[(0,m.jsx)(x.oHP,{className:"closeIcon",onClick:s}),(0,m.jsxs)("p",{style:{color:"#f9f6ee",fontSize:"16px"},children:["Change ",e.data[0].firstname,"'s session status to"]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("button",{onClick:function(){return a("Scheduled")},children:"Scheduled"}),(0,m.jsx)("button",{onClick:function(){return a("Cancelled")},children:"Cancelled"}),(0,m.jsx)("button",{onClick:function(){return a("Completed")},children:"Completed"})]})]})},p=n(1213),g=n(8617),f=n(71),v=n(8014);var y=n.p+"static/media/google-meet.8225444645c6c2060c8c4e75d861e607.svg";var b=n.p+"static/media/google-calendar.1ed9c55d9ed7f308b64bbd19fb29f7b9.svg";var S=n.p+"static/media/globe.010a23a5973223e40b560a7787bb5a2d.svg",w=n.p+"static/media/gender.135058a40a5211d8c9f5.png",_=n.p+"static/media/notepad.ff74515331c788c17367.png",k=n(6053),C=function(e){var s=function(){(0,e.data[1])(-1)},n=function(e){"Escape"==e.key&&s()};(0,t.useEffect)((function(){window.addEventListener("keydown",n,!1)}),[]);var a=e.data[0];return console.log(a),(0,m.jsxs)("div",{className:"admin_details_container",children:[(0,m.jsx)(x.oHP,{className:"crossIcon",onClick:s}),(0,m.jsxs)("div",{className:"admin_info_container",children:[(0,m.jsxs)("div",{className:"top_area",children:[(0,m.jsxs)("p",{style:{},children:[(0,m.jsx)(c.q1E,{style:{fontSize:"24px",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}})," ",a.firstname," ",a.lastname]}),(0,m.jsxs)("p",{children:[(0,m.jsx)(p.ddk,{style:{fontSize:"36px",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}}),a.session_date]}),(0,m.jsxs)("p",{children:[(0,m.jsx)(l.NbQ,{style:{fontSize:"36px",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}}),a.session_slot]})]}),(0,m.jsxs)("div",{className:"second_area",children:[(0,m.jsxs)("div",{className:"box",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)(g.hBs,{style:{fontSize:"2rem",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}})," ",a.email]}),(0,m.jsxs)("p",{children:[(0,m.jsx)(f.DsV,{style:{fontSize:"2rem",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}})," +91-",a.contact_number]}),(0,m.jsxs)("p",{children:[(0,m.jsx)(k.TnT,{style:{fontSize:"2rem",marginRight:"1rem",color:"Completed"===a.status?"#00FF00":"Scheduled"===a.status?"#DCD427":"#FF3333"}})," ",a.status]}),(0,m.jsx)("a",{href:a.invite_link,target:"_blank",children:(0,m.jsxs)("p",{className:"GoogleMeetLink",children:[(0,m.jsx)("img",{src:y,style:{width:"6%",marginRight:"1rem"}}),"Google meet invite link"]})}),(0,m.jsx)("a",{href:"https://calendar.google.com",children:(0,m.jsxs)("p",{className:"GoogleMeetLink",children:[(0,m.jsx)("img",{src:b,style:{width:"6%",marginRight:"1rem"}}),"Edit in google calendar"]})})]}),(0,m.jsxs)("div",{className:"box",children:[(0,m.jsxs)("p",{children:[(0,m.jsx)(h.IV2,{style:{fontSize:"2rem",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}})," ",a.dob]}),(0,m.jsxs)("p",{children:[(0,m.jsx)(v.VbM,{style:{fontSize:"2rem",color:"rgba(255,255,255,0.3)",marginRight:"1rem"}})," ",a.tob]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("img",{src:S,style:{width:"6%",marginRight:"1rem"}}),a.city," ",a.state," ",a.country]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("img",{src:w,style:{width:"6%",marginRight:"1rem"}}),a.gender]}),(0,m.jsxs)("p",{children:[(0,m.jsx)("img",{src:_,style:{width:"6%",marginRight:"1rem"}}),"Health Issues, Career"]})]})]})]})]})},N=function(e){var s=e.jwt,n=(0,t.useState)([]),i=(0,a.Z)(n,2),r=i[0],l=i[1],c=(0,t.useState)(-1),o=(0,a.Z)(c,2),x=o[0],p=o[1],g=(0,t.useState)(-1),f=(0,a.Z)(g,2),v=f[0],y=f[1],b={headers:{"Content-Type":"application/json"}},S=function(e){var n={JWT:s};u.Z.post("/api/session/getAllSessions?search=".concat(e),n,b).then((function(e){l(e.data.result)})).catch((function(e){alert(e.response.data.error),"Token expired"==e.response.data.error&&window.location.reload()}))},w=function(e){var s=new Date(e);return s.setMinutes(s.getMinutes()-s.getTimezoneOffset()),s.toISOString().substring(0,10).split("-").reverse().join("/")};return(0,m.jsxs)("div",{className:"admin_data",children:[(0,m.jsxs)("div",{className:"header_section",children:[(0,m.jsx)("p",{className:"header_text",children:"Sessions"}),(0,m.jsxs)("div",{style:{width:"40%",backgroundColor:"transparent",display:"flex",flexDirection:"row",height:"45%",justifyContent:"space-between",alignItems:"center",borderRadius:"0.6rem",padding:"0 1rem"},children:[(0,m.jsx)(h.t5J,{onClick:function(){S("")},className:"refresh_icon"}),(0,m.jsxs)("div",{className:"button_container",children:[(0,m.jsx)(d._RF,{style:{fontSize:"18px"}}),(0,m.jsx)("input",{type:"text",placeholder:"Search by name or email",onChange:function(e){S(e.target.value)}})]})]})]}),(0,m.jsx)("div",{className:"session_data_area",children:(0,m.jsxs)("div",{className:"data_box",children:[(0,m.jsxs)("div",{className:"row_heading",children:[(0,m.jsx)("div",{id:"shape_rect"}),(0,m.jsx)("p",{children:"Username"}),(0,m.jsx)("p",{style:{minWidth:"18%"},children:"Email"}),(0,m.jsx)("p",{children:"Booked on"}),(0,m.jsx)("p",{children:"Scheduled Date"}),(0,m.jsx)("p",{style:{marginLeft:"2rem"},children:"Scheduled Slot"}),(0,m.jsx)("p",{style:{marginLeft:"2rem",cursor:"pointer"},children:"Status"}),(0,m.jsx)("p",{style:{minWidth:"8%"},children:"Action"})]}),(0,m.jsx)("div",{className:"data_rows_container",children:-1==x?(0,m.jsx)(m.Fragment,{children:r.map((function(e,s){return(0,m.jsxs)("div",{className:"row_heading row_data",children:[(0,m.jsx)("div",{id:"shape_rect"}),(0,m.jsxs)("p",{children:[e.firstname," ",e.lastname]}),(0,m.jsx)("p",{style:{minWidth:"18%"},children:e.email}),(0,m.jsx)("p",{children:w(e.created_at)}),(0,m.jsx)("p",{children:e.session_date}),(0,m.jsx)("p",{style:{marginLeft:"2rem"},children:e.session_slot}),(0,m.jsx)("p",{style:{marginLeft:"2rem",color:"Completed"===e.status?"#a3f7bf":"#f35b25",cursor:"pointer"},onClick:function(){y(s)},children:e.status}),(0,m.jsx)("p",{style:{minWidth:"8%",textDecoration:"underLine",cursor:"pointer"},onClick:function(){p(s)},children:"Details"})]},s)}))}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(C,{data:[r[x],p,s]})})})]})}),-1!=v?(0,m.jsx)(j,{data:[r[v],y,s]}):(0,m.jsx)(m.Fragment,{})]})},T=function(){return(0,m.jsx)("div",{className:"admin_data",children:(0,m.jsx)("div",{className:"header_section",children:(0,m.jsx)("p",{className:"header_text",children:"Dashboard"})})})},Z=n(7040),F=function(e){var s=e.jwt,n=(0,t.useState)([]),i=(0,a.Z)(n,2),r=i[0],l=i[1],c=(0,t.useState)(""),o=(0,a.Z)(c,2),d=o[0],h=o[1],x=(0,t.useState)(!1),j=(0,a.Z)(x,2),p=j[0],g=j[1],f=(0,t.useState)(""),v=(0,a.Z)(f,2),y=v[0],b=v[1],S=(0,t.useState)(),w=(0,a.Z)(S,2),_=w[0],k=w[1],C={headers:{"Content-Type":"application/json"}},N=function(e){g(!1);var n={JWT:s,date:e};u.Z.post("/api/slots/getslots",n,C).then((function(s){console.log(s.data),0==s.data.results.length?h("No slots have been scheduled for ".concat(e)):l(s.data.results)})).catch((function(e){console.log(e),"Token expired"==e.response.data.error&&(alert("Token expired...Login Again"),window.location.reload())}))},T=function(){g(!0)};return(0,m.jsxs)("div",{className:"slots_screen",children:[(0,m.jsx)("div",{style:{width:"48%",height:"50%"},children:(0,m.jsx)(Z.ZP,{onClickDay:function(e){l([]),b(""),g(!1),console.log(e);var s=e.getDate()+" / "+(parseInt(e.getMonth())+1)+" / "+e.getFullYear();console.log(s),k(s),N(s)},showNeighboringMonth:!1,defaultValue:undefined})}),(0,m.jsx)("div",{className:"slots_area",children:p?(0,m.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center",justifyContent:"center",height:"100%"},children:[(0,m.jsx)("input",{type:"text",placeholder:" Format : 10:00 AM",className:"input_container222",onChange:function(e){b(e.target.value)},value:y}),(0,m.jsx)("button",{onClick:function(){var e={JWT:s,date:_,slot:y};u.Z.post("/api/slots/addSlot",e,C).then((function(e){alert("Slot Added Successfully"),N(_)})).catch((function(e){"Token expired"==e.response.data.error&&(alert("Token expired...Login Again"),window.location.reload())}))},children:"Add"})]}):(0,m.jsx)(m.Fragment,{children:0==r.length?(0,m.jsx)(m.Fragment,{children:d.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:d}),(0,m.jsx)("button",{onClick:T,children:"Add a slot"})]}):(0,m.jsx)("p",{children:"Please select a date"})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",marginTop:"5%"},children:r.map((function(e,s){return(0,m.jsx)("p",{style:{marginTop:"5px",width:"30%",height:"46px"},children:e.slot})}))}),(0,m.jsx)("button",{onClick:T,children:"Add a slot"})]})})})]})},R=function(){var e=(0,t.useState)(0),s=(0,a.Z)(e,2),n=s[0],d=s[1],h=(0,t.useState)(""),x=(0,a.Z)(h,2),j=x[0],p=x[1],g=(0,t.useState)(""),f=(0,a.Z)(g,2),v=f[0],y=f[1],b=(0,t.useState)(""),S=(0,a.Z)(b,2),w=S[0],_=S[1];return(0,m.jsx)(m.Fragment,{children:0===j.length?(0,m.jsx)("div",{className:"admin_screen",children:(0,m.jsxs)("div",{className:"login_admin_container",children:[(0,m.jsx)("strong",{children:"Enter username & password"}),(0,m.jsx)("input",{type:"text",placeholder:"Email",value:v,onChange:function(e){y(e.target.value)}}),(0,m.jsx)("input",{type:"password",placeholder:"Password",value:w,onChange:function(e){_(e.target.value)}}),(0,m.jsx)("button",{onClick:function(){var e={email:v,password:w};u.Z.post("/api/admin/validateAdmin",e,{headers:{"Content-Type":"application/json"}}).then((function(e){p(e.data.jwt)})).catch((function(e){console.log(e),alert("Wrong Email or password")}))},children:"Verify"})]})}):(0,m.jsxs)("div",{className:"admin_screen",children:[(0,m.jsxs)("div",{className:"admin_navbar",children:[(0,m.jsx)("p",{className:"user_para_tag",children:"Shubh Sharma"}),(0,m.jsxs)("div",{onClick:function(){d(0)},className:0==n?"current":"",children:[(0,m.jsx)(i.v6F,{}),(0,m.jsx)("p",{children:"Dashboard"})]}),(0,m.jsxs)("div",{onClick:function(){d(1)},className:1==n?"current":"",children:[(0,m.jsx)(l.dKm,{}),(0,m.jsx)("p",{children:"Sessions"})]}),(0,m.jsxs)("div",{onClick:function(){d(2)},className:2==n?"current":"",children:[(0,m.jsx)(i.Mu3,{}),(0,m.jsx)("p",{children:"Payments"})]}),(0,m.jsxs)("div",{onClick:function(){d(3)},className:3==n?"current":"",children:[(0,m.jsx)(c.KE5,{}),(0,m.jsx)("p",{children:"Users"})]}),(0,m.jsxs)("div",{onClick:function(){d(4)},className:4==n?"current":"",children:[(0,m.jsx)(r.Fnt,{}),(0,m.jsx)("p",{children:"Slots"})]}),(0,m.jsxs)("button",{onClick:function(){y(""),_(""),p("")},children:[(0,m.jsx)(o.$IY,{style:{fontSize:"16px"}}),(0,m.jsx)("p",{children:"Logout"})]})]}),0==n?(0,m.jsx)(T,{}):1==n?(0,m.jsx)(N,{jwt:j}):(0,m.jsx)(F,{jwt:j})]})})}}}]);
//# sourceMappingURL=888.d8c3f335.chunk.js.map